= TDM 10100: Project 13 -- 20223  

## David's Change

**Motivation:** 
In the previous project we manipulated dates, this project we are going to take it a bit further and use Tidyverse, more specifically the Luberdate package. 
Working with dates in `R` can require more attention than working with other object classes. These packages will help simplify some of the common tasks related to date data. +

Dates and times can be complicated, not every year has 365 days, not every day has 24 hours, and not every minute has 60 seconds. Dates are difficult because they have to accommodate for the Earth's rotation and orbit around the sun as well as the occurrence of timezones, daylight savings etc. 
Suffice to say that when focusing on dates and date-times in R the simpler the better. Lubridate helps do so.  

.Learning Objectives
****
- Read and write basic (csv) data.
- Explain and demonstrate: positional, named, and logical indexing.
- Utilize apply functions in order to solve a data-driven problem.
- Gain proficiency using split, merge, and subset.
- Demonstrate the ability to create basic graphs with default settings.
- Demonstrate the ability to modify axes labels and titles.
- Incorporate legends using legend().
- Demonstrate the ability to customize a plot (color, shape/linetype).
- Convert strings to dates, and format dates using the lubridate package.
****

Make sure to read about, and use the template found xref:templates.adoc[here], and the important information about projects submissions xref:submissions.adoc[here].

== Dataset(s)

The project will use the following dataset:

* `/anvil/projects/tdm/data/restaurant/orders.csv`

== Questions
First lets import the libraries +

* data.table
* tidyverse
* lubridate
[source,r]
----
library(data.table)  # make sure to load data.table first
library(lubridate)   # and then to load lubridate second; it will give you a warning in pink color but it is totally OK
library(tidyverse)
# You need to load `data.table` first and `lubridate` second for this project, because they both define `wday` and we want the version from `lubridate` so we need to load it second!
----

=== Question 1 (2 pts)

[loweralpha]
. Go ahead and read in the dataset as `orders`
. Find the class and the type of the column named `created_at`
. Are there multiple functions that will return the same or similar information?

[NOTE]
====
Reminder: +
- `class` shows the class of the specified object used as the arguments. The most common ones include but are not limited to: "numeric", "character", "logical", "date". +
- `typeof` shows you the type or storage mode of objects. The most common ones include but are not limited to: "logical", "integer", "double", "complex", "character", "raw" and "list"
====

=== Question 2 ( 2 pts)

[loweralpha]
. Use 'substr' to get date part from "created_at" column and replace the "created_at" column. You may find more information about `substr`` here https://www.digitalocean.com/community/tutorials/substring-function-in-r#[R substring]
. Convert the column `created_at` into values from the class *Date*.  (You can use lubridate to do so.)  What do you think about the methods you have learned (so far) to convert dates?
. Create a new column in your data.frame `orders` named `num_week_day` that shows numeric week days for values from column "created_at". 

[TIP]
====
Take a look at the functions `ymd`, `mdy`, `dym`, `ymd` is useful for this question
====

[NOTE]
====
- Take a look at the functions `month`, `year`, `day`, `wday`.  
- The *week_start* argument by default the days are counted as 1 means Monday, 7 means Sunday. You can set lubridate.week.start option to control this parameter.
====

[NOTE]
====
Default values of class *Date* in `R` is displayed as YYYY-MM-DD
====


=== Question 3 (2 pts)

By look at "orders" data.frame, you might already notice it contains data from May 2019 to Feb. 2020. We want to see which of those 10 months has the most sum of grand_total  
[loweralpha]
. Use `tapply` to sum grand_total for all 10 months (May 2019 till Feb. 2020)
. Make a barplot showing our results

=== Question 4 (2 pts)

Find the information only for the Jan. 2020 from "orders" data.frame, and call it `ordersJan2020`. Then create a line plot that shows the sum of "grand_total" by week days using the `ordersJan2020` data


Project 12 Assignment Checklist
====
* Jupyter Lab notebook with your code, comments and output for the assignment
    ** `firstname-lastname-project12.ipynb` 
* R code and comments for the assignment
    ** `firstname-lastname-project12.R`.
* Submit files through Gradescope
====

[WARNING]
====
_Please_ make sure to double check that your submission is complete, and contains all of your code and output before submitting. If you are on a spotty internet connection, it is recommended to download your submission after submitting it to make sure what you _think_ you submitted, was what you _actually_ submitted.
                                                                                                                             
In addition, please review our xref:submissions.adoc[submission guidelines] before submitting your project.
====
