= TDM 10200: Project 6 -- 2024
**Motivation:** Once we have some data analysis working in Python, we often want to wrap it into a function.  Dr Ward usually tests anything that he wrote (usually 5 times), to make sure it works, before wrapping it into a function.  Once we are sure our analysis works, if we wrap it into a function, it can usually be easier to use.


**Context:**  Functions also help us to put our work into bite-size pieces that are easier to understand.  The basic idea is similar to functions from R or from other languages and tools. 

**Scope:** functions

Make sure to read about, and use the template found xref:templates.adoc[here], and the important information about projects submissions xref:submissions.adoc[here].

== Examples Book Content

Please review the following Examples Book Contents  

- https://the-examples-book.com/programming-languages/python/writing-functions[Python Functions]

- https://realpython.com/sort-python-dictionary/#:~:text=With%20the%20sorted()%20function,do%20with%20a%20dictionary%20key!&text=In%20this%20example%2C%20you%20try,parameter%20accepts%20a%20callback%20function[Python sorted function]
 

== Datasets
/anvil/projects/tdm/data/election/

== Questions

=== Question 1 (2 points)

[loweralpha]

.. Create a list to hold all files from 1986 to 2018, display the list
.. Create a function to read a dataframe from a input file, the function inputs will be a file path as string, a column title as list which has a default value set for election files, returns will be year as integer and a DataFrame
+
[TIP]
====
- Refer to the title, you may need to update it for some datasets as needed
[source, python]
t_list=["CMTE_ID","AMNDT_IND","RPT_TP","TRANSACTION_PGI","IMAGE_NUM","TRANSACTION_TP","NAME","CITY","STATE","ZIP_CODE","EMPLOYER","OCCUPATION","TRANSACTION_DT","TRANSACTION_AMT","OTHER_ID","TRAN_ID","FILE_NUM","MEMO_CD","MEMO_TEXT","SUB_ID"]
====

==== Question 2(2 points)

.. Create a function to calculate the unique committees numbers for different years. Display the year and committees. Use function from 1b as helper function 
.. Run the function for year 2004 to 2010

==== Question 3(4 points)

.. Create a function to find the top 5 states by total amount of "TRANSACTION_AMT" for specified dataset(s) 
.. Run the function for file itcont1984.txt 
.. Run the function for datasets from 2008 to 2014

[TIP]
====
- Pay attention to the datatype of 'TRANSACTION_AMT', it may need to convert to float before calculations
- You may use sorted() function to sort the dictionary items of "state" and "total transaction amount" pair
- Refer to  https://realpython.com/sort-python-dictionary/#:~:text=With%20the%20sorted()%20function,do%20with%20a%20dictionary%20key!&text=In%20this%20example%2C%20you%20try,parameter%20accepts%20a%20callback%20function[Python sorted function]. You may need to define a helper function inside the main function, and pass it to sorted() as a callback function. The following is an example to get a tuple extracted from dictionary as (state, amount) pair, you may modify it to fit to your code
[source,python]
----
def get_trans_amt(state_amt_tuple):
    return state_amt_tuple[1]
----
====
 
=== Question 4 (2 points)

.. Create a function to find out what are top 5 employers by total transaction amount for specified datasets?

=== Question 5 (2 points)

.. Create one of your own function using the dataset under the folder, use at least two of following: packing/unpacking(list), helper function and/or callback function

Project 06 Assignment Checklist
====
* Jupyter Lab notebook with your code, comments and output for the assignment
    ** `firstname-lastname-project06.ipynb`.
* Python file with code and comments for the assignment
    ** `firstname-lastname-project06.py`

* Submit files through Gradescope
==== 


[WARNING]
====
_Please_ make sure to double check that your submission is complete, and contains all of your code and output before submitting. If you are on a spotty internet connection, it is recommended to download your submission after submitting it to make sure what you _think_ you submitted, was what you _actually_ submitted.
                                                                                                                             
In addition, please review our xref:submissions.adoc[submission guidelines] before submitting your project.
==== 