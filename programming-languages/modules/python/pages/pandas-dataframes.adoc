= DataFrames

== Basics

A `DataFrame` is star of the `pandas` package -- many of our `pandas` guides are simply building blocks for understanding `DataFrames`.

THe standard practice for `DataFrames` is xref:pandas-read-write-data.adoc[reading a file] and saving it, taking a glimpse at its contents, and using a wide variety of methods to manipulate the data to achieve whatever goal you have.

{sp}+

== First Glance at Data

Since we have another page devoted to reading .csv data, we'll start by creating a simple `DataFrame` for analysis:

[source,python]
----
import pandas as pd

fruits = pd.DataFrame([[1, 'pear'], [2, 'apple'], [3, 'orange']], columns=['count', 'fruit'])
----

{sp}+

=== `head()`

The `head` function lets us look at the first n rows of the `DataFrame`, with the default being 5. `head` is one of the best ways to get a feeling for the data you'll be analyzing. In our case, `fruits` has less than 5 lines, so the whole `DataFrame` will be displayed.

[NOTE]
====
Unlike R's `data.frames`, you don't include a Python `DataFrame` as a parameter to the function, instead using "." to call the function after inputting the `DataFrame`.
====

[source,python]
----
print(fruits.head())
----
----
   count   fruit
0      1    pear
1      2   apple
2      3  orange
----

{sp}+

=== `shape`

In most cases, your `DataFrame` will be more than 5 lines long (otherwise it wouldn't be very useful), and sometimes there are so many columns that standard output will not include all of them. We can use the `shape` attribute to list how many rows and columns we have:

[source,python]
----
print(fruits.shape)
----
----
(3, 2)
----

[TIP]
====
Functions will have parentheses after the codeword, while attributes will not. There isn't a great pneumonic for knowing which are attributes and which are functions, but there is always the xref:https://pandas.pydata.org/pandas-docs/stable/reference/frame.html#[official documentation] (or simply trial and error).
====

{sp}+

=== `columns`

As mentioned, you might find yourself in a situation where you can't display all columns simultaneously. To get an idea of which columns you want, use the `columns` attribute to display a list of all columns:

[source,python]
----
print(fruits.columns)
----
----
Index(['count', 'fruit'], dtype='object')
----

{sp}+

== Manipulating Data

Generally speaking, data manipulation only happens with functions, given the fact that most manipulations require parameters to specify what is being changed or how to change the data.

=== `rename()`

What if we read some data and the column names aren't in our desired format, or just plain unhelpful?

[source,python]
----
fruits = fruits.rename(columns={'fruit': 'groceries'})
----

You could also add the `inplace=True` argument to make the change directly to the DataFrame: 

[source,python]
----
fruits.rename(columns={'fruit': 'groceries'}, inplace=True)
----

Either method would result in the `fruit` column being renamed to `groceries` in this example. 

[source,python]
----
fruits.rename(columns={'fruit': 'groceries'}, inplace=True)
print(fruits.columns)
----

----
Index(['count', 'groceries'], dtype='object')
----

**What if I have a list of dicts and I want to create a DataFrame?**

In Python it's pretty common that you'll want to convert a different group of data objects into a DataFrame. This allows you to compare the data in a tabular format and leverage the library of Pandas functions. One of the most commons ways to do this is with a list of dicts: 

[source,python]
----
list_of_dicts = []
list_of_dicts.append({'columnA': 1, 'columnB': 2})
list_of_dicts.append({'columnB': 4, 'columnA': 1}) 

fruits = pd.DataFrame(list_of_dicts)
print(fruits.head())
----

----
   columnA  columnB
0        1        2
1        1        4
----

== Resources
As always, Pandas has great https://pandas.pydata.org/docs/reference/frame.html[documentation] regarding DataFrames. It's worth a read if you are new to Pandas and working with DataFrames. 